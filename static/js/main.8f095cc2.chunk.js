(this["webpackJsonpmatch-match-game"]=this["webpackJsonpmatch-match-game"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a.p+"static/media/classic.d65ef502.png"},function(e,t,a){e.exports=a.p+"static/media/fire.86667da2.png"},function(e,t,a){e.exports=a.p+"static/media/rainbow.d7fb95cb.png"},function(e,t,a){e.exports=a.p+"static/media/empty.33c51ce2.png"},,,,,function(e,t,a){e.exports=a.p+"static/media/ragnaros.f99c53f7.png"},function(e,t,a){e.exports=a.p+"static/media/cleric.aff90838.png"},function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(3),i=a(1),o=a(9),c=a(8),s=a(0),l=a.n(s),u=a(11),m=a.n(u);a(19),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(4),h=a.n(d),g=a(5),f=a.n(g),p=a(6),y=a.n(p),v=a(12),b=a.n(v),w=a(13),E=a.n(w),C=a(7),N=a.n(C);function k(e){return l.a.createElement("div",{className:"wrapper"},l.a.createElement("form",{className:"entryForm",action:"#"},l.a.createElement("input",{id:"userEmail",placeholder:"Enter your email"}),l.a.createElement("input",{id:"userPassword",type:"password",placeholder:"Enter your password"}),l.a.createElement("button",{type:"submit",onClick:e.onLoginClick},"Login"),l.a.createElement("span",null,"or"),l.a.createElement("button",{onClick:e.onRegistrationClick},"Registration")))}function S(e){return l.a.createElement("div",{className:"wrapper"},l.a.createElement("form",{className:"entryForm",action:"#"},l.a.createElement("input",{id:"userFirstName",placeholder:"Enter your First Name"}),l.a.createElement("input",{id:"userLastName",placeholder:"Enter your Last Name"}),l.a.createElement("input",{id:"userEmail",placeholder:"Enter your email"}),l.a.createElement("input",{id:"userPassword",type:"password",placeholder:"Enter your password"}),l.a.createElement("button",{type:"submit",onClick:e.onRegistrationClick},"Registration"),l.a.createElement("button",{onClick:e.onCansleClick},"Cancle")))}function O(e){return l.a.createElement("div",{id:"wrapper"},l.a.createElement("p",null,"Hello ",e.lastName," ",e.firstName),l.a.createElement("div",{id:"gameOption"},l.a.createElement("div",{className:"selectChoose"},l.a.createElement("select",{id:"backgroundCardType",onChange:e.onBackgroundCardChange},l.a.createElement("option",{value:"false"},"Choose Card Backgrond"),l.a.createElement("option",{value:"classic"},"Classic"),l.a.createElement("option",{value:"fire"},"Fire"),l.a.createElement("option",{value:"rainbow"},"Rainbow")),l.a.createElement("img",{id:"backgroundCardImage",alt:""})),l.a.createElement("div",{className:"selectChoose"},l.a.createElement("select",{id:"difficulty"},l.a.createElement("option",{value:"false"},"Choose difficulty"),l.a.createElement("option",{value:"easy"},"Easy"),l.a.createElement("option",{value:"normal"},"Normal"),l.a.createElement("option",{value:"hard"},"Hard"))),l.a.createElement("button",{id:"start",onClick:e.onStartClick},"Start")),l.a.createElement("div",{id:"gameRules"},l.a.createElement("span",{className:"title"},"How to play"),l.a.createElement("ol",{className:"rules"},l.a.createElement("li",null,"Select two card try to match the pictures"),l.a.createElement("li",null,"If you match the pictures you can go again"),l.a.createElement("li",null,"If they don't match it the computer turn them"),l.a.createElement("li",null,"The playrs that find all pairs win!"),l.a.createElement("li",null,"Have Fun!"))))}function A(e){return(e.index+1)%e.state.cardInRawNumber===0?l.a.createElement("img",{id:"card".concat(e.index),src:e.state.cardBackground,alt:"",onClick:e.onCardClick.bind(this,e.index,e.state)}):l.a.createElement("img",{id:"card".concat(e.index),src:e.state.cardBackground,alt:"",onClick:e.onCardClick.bind(this,e.index,e.state),style:{marginRight:e.state.cardMargin}})}function I(e){for(var t=0;t<e.length;)e[t]=E.a,e[++t]=b.a,t++}function B(e,t,a,r){var n,i={firstName:e,lastName:t,time:a};(n=JSON.parse(localStorage.getItem("".concat(r,"leaderboard"))))?n.length<10?(n[n.length]=i,localStorage.setItem("".concat(r,"leaderboard"),JSON.stringify(n))):(!function(e,t){j(t);var a=0,r=!1;do{Number(t[a].time)>Number(e.time)?r=!0:a++}while(!r&&a<t.length);if(r){for(var n=t.length-1;n>a;n--){var i=[t[n],t[n-1]];t[n-1]=i[0],t[n]=i[1]}t[a]=e}}(i,n),localStorage.setItem("".concat(r,"leaderboard"),JSON.stringify(n))):((n=[]).push(i),localStorage.setItem("".concat(r,"leaderboard"),JSON.stringify(n)))}function j(e){for(var t=e.length-1;t>0;t--)for(var a=0;a<t;a++)if(Number(e[a].time)>Number(e[a+1].time)){var r=[e[a+1],e[a]];e[a]=r[0],e[a+1]=r[1]}}function G(e,t){for(var a=0;a<e.length;a++)e[a].style.transform="scaleX(0.001)";setTimeout((function(){for(var a=0;a<e.length;a++)e[a].src=t,e[a].style.transform="scaleX(1)"}),200)}function R(e){return l.a.createElement("div",{className:"wrapper"},l.a.createElement("table",{id:"leaderboard"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Place"),l.a.createElement("td",null,"Name"),l.a.createElement("td",null,"Time"))),e.arrayOfUsers.map((function(e,t){return l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.lastName," ",e.firstName),l.a.createElement("td",null,e.time)))}))),l.a.createElement("button",{id:"menu",onClick:e.onCreateGameOptionClick},"Menu"))}var x=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={seconds:0,stopwatchId:0},n.timer=n.timer.bind(Object(i.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=setInterval(this.timer,1e3);this.setState({stopwatchId:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.stopwatchId)}},{key:"timer",value:function(){this.setState({seconds:this.state.seconds+1})}},{key:"render",value:function(){return l.a.createElement("span",{id:"stopwatch"},"".concat(this.state.seconds))}}]),a}(l.a.Component),T=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={windowNumber:0,firstName:"",lastName:"",cardBackground:"",difficult:"",gameArray:[],cardInRawNumber:0,cardMargin:0,turnCardsArray:[],isAnimationGoing:!1,foundCardsNumber:0,stopwatchId:0,seconds:0,minutes:0,arrayOfUsers:[]},n.createLoginWindow=n.createLoginWindow.bind(Object(i.a)(n)),n.createRegistrationWindow=n.createRegistrationWindow.bind(Object(i.a)(n)),n.createGameOption=n.createGameOption.bind(Object(i.a)(n)),n.login=n.login.bind(Object(i.a)(n)),n.registration=n.registration.bind(Object(i.a)(n)),n.backgroundCardChange=n.backgroundCardChange.bind(Object(i.a)(n)),n.createGameArray=n.createGameArray.bind(Object(i.a)(n)),n.onCardClick=n.onCardClick.bind(Object(i.a)(n)),n}return Object(n.a)(a,[{key:"login",value:function(){var e=this,t=document.querySelector(".entryForm").querySelectorAll("input");if(t[0].value.match(/^[a-zA-Z]\w+@[a-z]+\.[a-z]{2,3}$/)&&t[1].value.match(/^\w{4}\w*$/)){var a=localStorage.getItem("usersArray");if(a){var r=!1;(a=JSON.parse(a)).forEach((function(a){a.email===t[0].value&&a.password===t[1].value&&(r=!0,e.setState({firstName:a.firstName}),e.setState({lastName:a.lastName}))})),r?this.setState({windowNumber:2}):alert("There is no such email or password is not correct")}else alert("There is no such email or password is not correct")}else alert("Enter your email and password")}},{key:"registration",value:function(){var e=document.querySelector(".entryForm").querySelectorAll("input"),t=/^[A-Z]?[a-z]{2}[a-z]*$/;if(e[0].value.match(t)&&e[1].value.match(t)&&e[2].value.match(/^[a-zA-Z]\w+@[a-z]+\.[a-z]{2,3}$/)&&e[3].value.match(/^\w{4}\w*$/)){var a=localStorage.getItem("usersArray"),r={firstName:e[0].value,lastName:e[1].value,email:e[2].value,password:e[3].value};if(this.setState({firstName:r.firstName}),this.setState({lastName:r.lastName}),a){var n=!0;(a=JSON.parse(a)).forEach((function(t){t.email===e[2].value&&(n=!1)})),n?(a.push(r),a=JSON.stringify(a),localStorage.setItem("usersArray",a),this.setState({windowNumber:2})):alert("User with such email is already exist")}else{var i=[];i.push(r),i=JSON.stringify(i),localStorage.setItem("usersArray",i),this.setState({windowNumber:2})}}else alert("Enter your email and password")}},{key:"backgroundCardChange",value:function(){var e=document.getElementById("backgroundCardType"),t=document.getElementById("backgroundCardImage");"classic"===e.value?(this.setState({cardBackground:h.a}),t.src=h.a):"fire"===e.value?(this.setState({cardBackground:f.a}),t.src=f.a):"rainbow"===e.value?(this.setState({cardBackground:y.a}),t.src=y.a):"false"===e.value&&(t.src="")}},{key:"createGameArray",value:function(){var e=document.getElementById("difficulty"),t=document.getElementById("backgroundCardType"),a=[];if("false"!==e.value&&"false"!==t.value){var r=0;"easy"===e.value?(this.setState({difficult:"easy"}),a.length=16,r=4,I(a)):"normal"===e.value?(this.setState({difficult:"normal"}),a.length=28,r=7,I(a)):"hard"===e.value&&(this.setState({difficult:"hard"}),a.length=40,r=10,I(a)),function(e){for(var t,a=0;a<e.length;a++){var r=[e[t=Math.floor(Math.random()*(e.length-1))],e[a]];e[a]=r[0],e[t]=r[1]}}(a),this.setState({gameArray:a}),this.setState({cardInRawNumber:r}),this.setState({windowNumber:3});var n=document.getElementById("root"),i=window.getComputedStyle(n);i=i.width,i=.8*Number(i.slice(0,-2));var o=Number(i-100*r-30)/(r-1);this.setState({cardMargin:o})}else alert("Choose difficulty and card background")}},{key:"onCardClick",value:function(e,t){var a=this,r=document.getElementById("card".concat(e));!1===t.isAnimationGoing&&t.turnCardsArray.length<2&&(t.isAnimationGoing=!0,r.src.includes(t.cardBackground)&&(t.turnCardsArray.push(r),G([r],t.gameArray[e])),2===t.turnCardsArray.length&&setTimeout((function(){t.turnCardsArray[0].src===t.turnCardsArray[1].src?(t.turnCardsArray[0].onclick="",t.turnCardsArray[1].onclick="",setTimeout((function(){t.turnCardsArray[0].src=N.a,t.turnCardsArray[1].src=N.a,t.turnCardsArray=[],t.foundCardsNumber+=2}),200)):setTimeout((function(){G(t.turnCardsArray,t.cardBackground),t.turnCardsArray=[]}),600)}),200),setTimeout((function(){t.isAnimationGoing=!1}),600)),setTimeout((function(){if(t.foundCardsNumber===t.gameArray.length){t.isAnimationGoing=!1,t.gameArray=[];var e=document.getElementById("stopwatch"),r=Number(e.innerHTML);t.seconds=r,B(t.firstName,t.lastName,t.seconds,t.difficult),t.foundCardsNumber=0;var n=JSON.parse(localStorage.getItem("".concat(t.difficult,"leaderboard")));j(n),a.setState({arrayOfUsers:n}),a.setState({windowNumber:4})}}),600)}},{key:"createLoginWindow",value:function(){this.setState({windowNumber:0})}},{key:"createRegistrationWindow",value:function(){this.setState({windowNumber:1})}},{key:"createGameOption",value:function(){this.setState({windowNumber:2})}},{key:"createGameWindowBasis",value:function(){this.setState({windowNumber:3})}},{key:"render",value:function(){var e,t=this;return 0===this.state.windowNumber?e=l.a.createElement(k,{onRegistrationClick:this.createRegistrationWindow,onLoginClick:this.login}):1===this.state.windowNumber?e=l.a.createElement(S,{onCansleClick:this.createLoginWindow,onRegistrationClick:this.registration}):2===this.state.windowNumber?e=l.a.createElement(O,{lastName:this.state.lastName,firstName:this.state.firstName,onRegistrationClick:this.createGameOption,onBackgroundCardChange:this.backgroundCardChange,onStartClick:this.createGameArray}):3===this.state.windowNumber?e=l.a.createElement("div",{className:"wrapper"},l.a.createElement(x,null),l.a.createElement("div",{id:"gameField"},this.state.gameArray.map((function(e,a){return l.a.createElement(A,{index:a,state:t.state,onCardClick:t.onCardClick})})))):4===this.state.windowNumber&&(e=l.a.createElement(R,{onCreateGameOptionClick:this.createGameOption,arrayOfUsers:this.state.arrayOfUsers})),[e]}}]),a}(l.a.Component);m.a.render(l.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.8f095cc2.chunk.js.map